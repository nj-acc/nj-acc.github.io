{"version":3,"sources":["page/auth/register.js","firebase/index.js","config.js"],"names":["validationSchema","yup","email","required","password","min","useStyles","makeStyles","theme","title","textAlign","width","formControl","margin","TextField","RegisterPage","classes","formik","useFormik","initialValues","onSubmit","data","a","register","position","variant","className","handleSubmit","fullWidth","id","name","label","value","values","onChange","handleChange","error","touched","Boolean","errors","helperText","type","color","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","login","signInWithEmailAndPassword","then","res","console","log","user","emailVerified","localStorage","setItem","refreshToken","status","sendEmailVerification","signOut","catch","createUserWithEmailAndPassword","userCredential","logOut","clear"],"mappings":"yOAiBMA,EAAmBC,IAAW,CAChCC,MAAOD,IACG,oBACPC,MAAM,uBACNC,SAAS,qBACZC,SAAUH,IACA,uBACPI,IAAI,EAAG,qDACPF,SAAS,0BAGVG,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,MAAO,CACHC,UAAU,SACVC,MAAM,QAEVC,YAAY,CACRC,OAAO,YAEXC,UAAU,CACND,OAAO,gBA0DAE,UAtDM,WACjB,IAAMC,EAAUV,IAEVW,EAASC,YAAU,CACrBC,cAAe,CACbjB,MAAO,GACPE,SAAU,IAEZJ,iBAAkBA,EAClBoB,SAAS,WAAD,4BAAE,WAAMC,GAAN,SAAAC,EAAA,sDACNC,YAASF,GADH,2CAAF,mDAAC,KAKb,OACA,gCACI,cAAC,IAAD,CAAQG,SAAS,SAAjB,SACI,cAAC,IAAD,UACI,cAAC,IAAD,CAAYC,QAAQ,KAAKC,UAAWV,EAAQP,MAA5C,+BAGR,cAAC,IAAD,UACI,uBAAMiB,UAAWV,EAAQJ,YAAaQ,SAAUH,EAAOU,aAAvD,UACI,cAAC,IAAD,CAAYD,UAAWV,EAAQF,UAC3Bc,WAAS,EACTC,GAAG,QACHC,KAAK,QACLC,MAAM,QACNC,MAAOf,EAAOgB,OAAO/B,MACrBgC,SAAUjB,EAAOkB,aACjBC,MAAOnB,EAAOoB,QAAQnC,OAASoC,QAAQrB,EAAOsB,OAAOrC,OACrDsC,WAAYvB,EAAOoB,QAAQnC,OAASe,EAAOsB,OAAOrC,MAClDuB,QAAQ,aAEZ,cAAC,IAAD,CAAWC,UAAWV,EAAQF,UAC1Bc,WAAS,EACTC,GAAG,WACHC,KAAK,WACLC,MAAM,WACNU,KAAK,WACLT,MAAOf,EAAOgB,OAAO7B,SACrB8B,SAAUjB,EAAOkB,aACjBC,MAAOnB,EAAOoB,QAAQjC,UAAYkC,QAAQrB,EAAOsB,OAAOnC,UACxDoC,WAAYvB,EAAOoB,QAAQjC,UAAYa,EAAOsB,OAAOnC,SACrDqB,QAAQ,aAEZ,cAAC,IAAD,CAAQiB,MAAM,UAAUjB,QAAQ,YAAYG,WAAS,EAACa,KAAK,SAA3D,8B,2KClFhBE,IAASC,cCLc,CACnBC,OAAQ,0CACRC,WAAY,gCACZC,UAAW,gBACXC,cAAe,4BACfC,kBAAmB,eACnBC,MAAO,8CDCX,IAAMC,EAAOR,IAASQ,OAEhBC,EAAK,uCAAG,WAAM/B,GAAN,SAAAC,EAAA,sDACV6B,EAAKE,2BAA2BhC,EAAKnB,MAAOmB,EAAKjB,UAChDkD,MAAK,SAACC,GAEH,OADAC,QAAQC,IAAIF,EAAIG,MACZH,EAAIG,KAAKC,eAQTC,aAAaC,QAAQ,QAAQN,EAAIG,KAAKI,cAC/B,CACHzC,KAAKkC,EAAIG,KACTK,OAAO,aAVXR,EAAIG,KAAKM,wBACTb,EAAKc,UACE,CACHF,OAAO,kBAWlBG,OAAM,SAAA9B,GAEH,OADAoB,QAAQC,IAAIrB,GACL,CACHA,MAAMA,EACN2B,OAAO,YAvBL,2CAAH,sDA4BLxC,EAAW,SAACF,GACd8B,EAAKgB,+BAA+B9C,EAAKnB,MAAOmB,EAAKjB,UAChDkD,MAAK,SAACc,GAKH,OAHAZ,QAAQC,IAAIW,GACZA,EAAeV,KAAKM,wBACpBb,EAAKc,UACE,CAACF,OAAO,iBAElBG,OAAM,SAAA9B,GAEH,OADAoB,QAAQC,IAAIrB,GACL,CAAC2B,OAAO,aAIrBM,EAAS,WACXlB,EAAKc,UACJX,MAAK,WAEF,OADAM,aAAaU,SACN","file":"static/js/8.44477914.chunk.js","sourcesContent":["import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n    AppBar,\r\n    Toolbar,\r\n    Typography,\r\n    TextField,\r\n    Container,\r\n    Button\r\n} from '@material-ui/core';\r\nimport { useFormik } from 'formik';\r\nimport * as yup from 'yup';\r\n\r\nimport {register} from \"../../firebase/index\";\r\n// import { useHistory } from 'react-router-dom';\r\n\r\n\r\nconst validationSchema = yup.object({\r\n    email: yup\r\n      .string('Enter your email')\r\n      .email('Enter a valid email')\r\n      .required('Email is required'),\r\n    password: yup\r\n      .string('Enter your password')\r\n      .min(8, 'Password should be of minimum 8 characters length')\r\n      .required('Password is required'),\r\n});\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    title: {\r\n        textAlign:'center',\r\n        width:'100%'\r\n    },\r\n    formControl:{\r\n        margin:'20vh 0px'\r\n    },\r\n    TextField:{\r\n        margin:'10px 0px'\r\n    }\r\n}));\r\n\r\nconst RegisterPage = () => {\r\n    const classes = useStyles()\r\n    // const history = useHistory()\r\n    const formik = useFormik({\r\n        initialValues: {\r\n          email: '',\r\n          password: '',\r\n        },\r\n        validationSchema: validationSchema,\r\n        onSubmit: async(data) => {\r\n            register(data)\r\n        },\r\n      });\r\n\r\n    return (\r\n    <div>\r\n        <AppBar position=\"static\">\r\n            <Toolbar>\r\n                <Typography variant=\"h6\" className={classes.title}>Register Page</Typography>\r\n            </Toolbar>\r\n        </AppBar>\r\n        <Container>\r\n            <form className={classes.formControl} onSubmit={formik.handleSubmit}>\r\n                <TextField  className={classes.TextField}\r\n                    fullWidth\r\n                    id=\"email\"\r\n                    name=\"email\"\r\n                    label=\"Email\"\r\n                    value={formik.values.email}\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.email && Boolean(formik.errors.email)}\r\n                    helperText={formik.touched.email && formik.errors.email}\r\n                    variant=\"outlined\"\r\n                />\r\n                <TextField className={classes.TextField}\r\n                    fullWidth\r\n                    id=\"password\"\r\n                    name=\"password\"\r\n                    label=\"Password\"\r\n                    type=\"password\"\r\n                    value={formik.values.password}\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.password && Boolean(formik.errors.password)}\r\n                    helperText={formik.touched.password && formik.errors.password}\r\n                    variant=\"outlined\"\r\n                />\r\n                <Button color=\"primary\" variant=\"contained\" fullWidth type=\"submit\">\r\n                    Submit\r\n                </Button>\r\n            </form>\r\n        </Container>\r\n    </div>\r\n    );\r\n}\r\nexport default RegisterPage","import firebase from \"firebase\";\r\nimport {firebaseConfig} from '../config'\r\n// If you're not using Code Sandbox, never hard-code the keys! Add them in your .env file and link them here\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst auth = firebase.auth();\r\n\r\nconst login = async(data) => {\r\n    auth.signInWithEmailAndPassword(data.email, data.password)\r\n    .then((res)=>{\r\n        console.log(res.user)\r\n        if(!res.user.emailVerified){\r\n            res.user.sendEmailVerification();\r\n            auth.signOut();\r\n            return {\r\n                status:'unverified'\r\n            }\r\n            \r\n        }else{\r\n            localStorage.setItem('token',res.user.refreshToken)\r\n            return {\r\n                data:res.user,\r\n                status:'success'\r\n            }\r\n        }\r\n    })\r\n    .catch(error=>{\r\n        console.log(error)\r\n        return {\r\n            error:error,\r\n            status:'error'\r\n        }\r\n    });\r\n}\r\n\r\nconst register = (data) => {\r\n    auth.createUserWithEmailAndPassword(data.email, data.password)\r\n        .then((userCredential)=>{\r\n            // send verification mail.\r\n            console.log(userCredential)\r\n            userCredential.user.sendEmailVerification();\r\n            auth.signOut();\r\n            return {status:'sent_email'}\r\n        })\r\n        .catch(error=>{\r\n            console.log(error)\r\n            return {status:'error'}\r\n        });\r\n}\r\n\r\nconst logOut = () => {\r\n    auth.signOut()\r\n    .then(()=>{\r\n        localStorage.clear()\r\n        return true\r\n    })\r\n}\r\nexport {login,register,logOut}","const firebaseConfig = {\r\n    apiKey: \"AIzaSyBNBHqfJTK8cjulEl5zhQGEornDtrp3WV0\",\r\n    authDomain: \"aboutme-d141a.firebaseapp.com\",\r\n    projectId: \"aboutme-d141a\",\r\n    storageBucket: \"aboutme-d141a.appspot.com\",\r\n    messagingSenderId: \"642958337968\",\r\n    appId: \"1:642958337968:web:2807a48750c6e7dd77d875\"\r\n};\r\n\r\nexport {firebaseConfig}"],"sourceRoot":""}