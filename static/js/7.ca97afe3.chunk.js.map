{"version":3,"sources":["page/auth/login.js","firebase/index.js","config.js"],"names":["validationSchema","yup","email","required","password","min","useStyles","makeStyles","theme","title","textAlign","width","formControl","margin","TextField","ButtonAppBar","classes","formik","useFormik","initialValues","onSubmit","data","a","login","useEffect","position","variant","className","handleSubmit","fullWidth","id","name","label","value","values","onChange","handleChange","error","touched","Boolean","errors","helperText","type","color","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","signInWithEmailAndPassword","then","res","console","log","user","emailVerified","localStorage","setItem","refreshToken","status","sendEmailVerification","signOut","catch","register","createUserWithEmailAndPassword","userCredential","logOut","clear"],"mappings":"iRAgBMA,EAAmBC,IAAW,CAChCC,MAAOD,IACG,oBACPC,MAAM,uBACNC,SAAS,qBACZC,SAAUH,IACA,uBACPI,IAAI,EAAG,qDACPF,SAAS,0BAGVG,EAAYC,aAAW,SAACC,GAAD,MAAY,CACrCC,MAAO,CACHC,UAAU,SACVC,MAAM,QAEVC,YAAY,CACRC,OAAO,YAEXC,UAAU,CACND,OAAO,gBAIA,SAASE,IACpB,IAAMC,EAAUV,IAEVW,EAASC,YAAU,CACrBC,cAAe,CACXjB,MAAO,GACPE,SAAU,IAEdJ,iBAAkBA,EAClBoB,SAAS,WAAD,4BAAE,WAAMC,GAAN,SAAAC,EAAA,sDACPC,YAAMF,GADC,2CAAF,mDAAC,KAQb,OAJAG,qBAAU,eAKV,gCACI,cAAC,IAAD,CAAQC,SAAS,SAAjB,SACI,cAAC,IAAD,UACI,cAAC,IAAD,CAAYC,QAAQ,KAAKC,UAAWX,EAAQP,MAA5C,4BAGR,cAAC,IAAD,UACI,uBAAMkB,UAAWX,EAAQJ,YAAaQ,SAAUH,EAAOW,aAAvD,UACI,cAAC,IAAD,CAAYD,UAAWX,EAAQF,UAC3Be,WAAS,EACTC,GAAG,QACHC,KAAK,QACLC,MAAM,QACNC,MAAOhB,EAAOiB,OAAOhC,MACrBiC,SAAUlB,EAAOmB,aACjBC,MAAOpB,EAAOqB,QAAQpC,OAASqC,QAAQtB,EAAOuB,OAAOtC,OACrDuC,WAAYxB,EAAOqB,QAAQpC,OAASe,EAAOuB,OAAOtC,MAClDwB,QAAQ,aAEZ,cAAC,IAAD,CAAWC,UAAWX,EAAQF,UAC1Be,WAAS,EACTC,GAAG,WACHC,KAAK,WACLC,MAAM,WACNU,KAAK,WACLT,MAAOhB,EAAOiB,OAAO9B,SACrB+B,SAAUlB,EAAOmB,aACjBC,MAAOpB,EAAOqB,QAAQlC,UAAYmC,QAAQtB,EAAOuB,OAAOpC,UACxDqC,WAAYxB,EAAOqB,QAAQlC,UAAYa,EAAOuB,OAAOpC,SACrDsB,QAAQ,aAEZ,cAAC,IAAD,CAAQiB,MAAM,UAAUjB,QAAQ,YAAYG,WAAS,EAACa,KAAK,SAA3D,8B,2KCpFhBE,IAASC,cCLc,CACnBC,OAAQ,0CACRC,WAAY,gCACZC,UAAW,gBACXC,cAAe,4BACfC,kBAAmB,eACnBC,MAAO,8CDCX,IAAMC,EAAOR,IAASQ,OAEhB7B,EAAK,uCAAG,WAAMF,GAAN,SAAAC,EAAA,sDACV8B,EAAKC,2BAA2BhC,EAAKnB,MAAOmB,EAAKjB,UAChDkD,MAAK,SAACC,GAEH,OADAC,QAAQC,IAAIF,EAAIG,MACZH,EAAIG,KAAKC,eAQTC,aAAaC,QAAQ,QAAQN,EAAIG,KAAKI,cAC/B,CACHzC,KAAKkC,EAAIG,KACTK,OAAO,aAVXR,EAAIG,KAAKM,wBACTZ,EAAKa,UACE,CACHF,OAAO,kBAWlBG,OAAM,SAAA7B,GAEH,OADAmB,QAAQC,IAAIpB,GACL,CACHA,MAAMA,EACN0B,OAAO,YAvBL,2CAAH,sDA4BLI,EAAW,SAAC9C,GACd+B,EAAKgB,+BAA+B/C,EAAKnB,MAAOmB,EAAKjB,UAChDkD,MAAK,SAACe,GAKH,OAHAb,QAAQC,IAAIY,GACZA,EAAeX,KAAKM,wBACpBZ,EAAKa,UACE,CAACF,OAAO,iBAElBG,OAAM,SAAA7B,GAEH,OADAmB,QAAQC,IAAIpB,GACL,CAAC0B,OAAO,aAIrBO,EAAS,WACXlB,EAAKa,UACJX,MAAK,WAEF,OADAM,aAAaW,SACN","file":"static/js/7.ca97afe3.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n    AppBar,\r\n    Toolbar,\r\n    Typography,\r\n    TextField,\r\n    Container,\r\n    Button\r\n} from '@material-ui/core';\r\nimport { useFormik } from 'formik';\r\nimport * as yup from 'yup';\r\n\r\nimport {login} from \"../../firebase/index\";\r\n// import { useHistory } from 'react-router-dom';\r\n\r\nconst validationSchema = yup.object({\r\n    email: yup\r\n      .string('Enter your email')\r\n      .email('Enter a valid email')\r\n      .required('Email is required'),\r\n    password: yup\r\n      .string('Enter your password')\r\n      .min(8, 'Password should be of minimum 8 characters length')\r\n      .required('Password is required'),\r\n  });\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    title: {\r\n        textAlign:'center',\r\n        width:'100%'\r\n    },\r\n    formControl:{\r\n        margin:'20vh 0px'\r\n    },\r\n    TextField:{\r\n        margin:'10px 0px'\r\n    }\r\n}));\r\n\r\nexport default function ButtonAppBar() {\r\n    const classes = useStyles();\r\n    // let history = useHistory()\r\n    const formik = useFormik({\r\n        initialValues: {\r\n            email: '',\r\n            password: '',\r\n        },\r\n        validationSchema: validationSchema,\r\n        onSubmit: async(data) => {\r\n           login(data)\r\n        },\r\n    });\r\n    useEffect(()=>{\r\n        // console.log(auth.currentUser)\r\n        \r\n    });\r\n    return (\r\n    <div>\r\n        <AppBar position=\"static\">\r\n            <Toolbar>\r\n                <Typography variant=\"h6\" className={classes.title}>Login Page</Typography>\r\n            </Toolbar>\r\n        </AppBar>\r\n        <Container>\r\n            <form className={classes.formControl} onSubmit={formik.handleSubmit}>\r\n                <TextField  className={classes.TextField}\r\n                    fullWidth\r\n                    id=\"email\"\r\n                    name=\"email\"\r\n                    label=\"Email\"\r\n                    value={formik.values.email}\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.email && Boolean(formik.errors.email)}\r\n                    helperText={formik.touched.email && formik.errors.email}\r\n                    variant=\"outlined\"\r\n                />\r\n                <TextField className={classes.TextField}\r\n                    fullWidth\r\n                    id=\"password\"\r\n                    name=\"password\"\r\n                    label=\"Password\"\r\n                    type=\"password\"\r\n                    value={formik.values.password}\r\n                    onChange={formik.handleChange}\r\n                    error={formik.touched.password && Boolean(formik.errors.password)}\r\n                    helperText={formik.touched.password && formik.errors.password}\r\n                    variant=\"outlined\"\r\n                />\r\n                <Button color=\"primary\" variant=\"contained\" fullWidth type=\"submit\">\r\n                    Submit\r\n                </Button>\r\n            </form>\r\n        </Container>\r\n    </div>\r\n    );\r\n}","import firebase from \"firebase\";\r\nimport {firebaseConfig} from '../config'\r\n// If you're not using Code Sandbox, never hard-code the keys! Add them in your .env file and link them here\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nconst auth = firebase.auth();\r\n\r\nconst login = async(data) => {\r\n    auth.signInWithEmailAndPassword(data.email, data.password)\r\n    .then((res)=>{\r\n        console.log(res.user)\r\n        if(!res.user.emailVerified){\r\n            res.user.sendEmailVerification();\r\n            auth.signOut();\r\n            return {\r\n                status:'unverified'\r\n            }\r\n            \r\n        }else{\r\n            localStorage.setItem('token',res.user.refreshToken)\r\n            return {\r\n                data:res.user,\r\n                status:'success'\r\n            }\r\n        }\r\n    })\r\n    .catch(error=>{\r\n        console.log(error)\r\n        return {\r\n            error:error,\r\n            status:'error'\r\n        }\r\n    });\r\n}\r\n\r\nconst register = (data) => {\r\n    auth.createUserWithEmailAndPassword(data.email, data.password)\r\n        .then((userCredential)=>{\r\n            // send verification mail.\r\n            console.log(userCredential)\r\n            userCredential.user.sendEmailVerification();\r\n            auth.signOut();\r\n            return {status:'sent_email'}\r\n        })\r\n        .catch(error=>{\r\n            console.log(error)\r\n            return {status:'error'}\r\n        });\r\n}\r\n\r\nconst logOut = () => {\r\n    auth.signOut()\r\n    .then(()=>{\r\n        localStorage.clear()\r\n        return true\r\n    })\r\n}\r\nexport {login,register,logOut}","const firebaseConfig = {\r\n    apiKey: \"AIzaSyBNBHqfJTK8cjulEl5zhQGEornDtrp3WV0\",\r\n    authDomain: \"aboutme-d141a.firebaseapp.com\",\r\n    projectId: \"aboutme-d141a\",\r\n    storageBucket: \"aboutme-d141a.appspot.com\",\r\n    messagingSenderId: \"642958337968\",\r\n    appId: \"1:642958337968:web:2807a48750c6e7dd77d875\"\r\n};\r\n\r\nexport {firebaseConfig}"],"sourceRoot":""}